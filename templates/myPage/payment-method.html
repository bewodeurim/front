<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="../../static/css/myPage/payment-method.css"
        />
        <title>결제 수단</title>
    </head>
    <body>
        <div class="contents">
            <div id="container">
                <!-- [S] 선불서비스 -->
                <section id="content" class="section-prepaid">
                    <div class="inner">
                        <div class="page-header side">
                            <h2 class="page-title">선불서비스</h2>
                            <div class="location">
                                <a href="/" class="home"
                                    ><span class="hidden">HOME</span></a
                                >
                                <strong> 선불서비스 </strong>
                            </div>
                        </div>
                        <div class="tab-wrap2"></div>
                    </div>
                    <section class="bg-banner-wrap">
                        <div class="inner2">
                            <div class="icon-box">
                                <i class="bg-icon01"></i>
                            </div>
                            <div class="title-wrap">
                                <h2 class="title-type2">선불 요금 충전 안내</h2>
                                <p class="desc">
                                    쉽고 편리한 실시간 요금 충전방법을
                                    알려드릴게요!
                                </p>
                            </div>
                        </div>
                    </section>
                    <section class="content-box">
                        <ul class="prepaid-list">
                            <li class="box01">
                                <div class="title-box">
                                    <h3 class="title-type">온라인 즉시 결제</h3>
                                    <p>
                                        온라인 신용카드 및 간편결제로 바로
                                        충전합니다.
                                    </p>
                                    <a
                                        href="javascript:void(0)"
                                        class="btn-type10"
                                        onclick="goCheckPhone(1);return false;"
                                        >온라인 충전하기 &gt;</a
                                    >
                                </div>
                                <div class="flex-box">
                                    <ul>
                                        <li>
                                            <i class="ico-visa"></i>
                                            <strong>신용카드</strong>
                                        </li>
                                        <li>
                                            <i class="ico-kakaopay"></i>
                                            <strong>카카오페이</strong>
                                        </li>
                                        <li>
                                            <i class="ico-payco"></i>
                                            <strong>페이코</strong>
                                        </li>
                                        <li>
                                            <i class="ico-pay"></i>
                                            <strong>계좌이체</strong>
                                        </li>
                                        <li>
                                            <i class="ico-paypal"></i>
                                            <strong>PayPal</strong>
                                        </li>
                                        <li>
                                            <i class="ico-wechat-pay"></i>
                                            <strong>WechatPay</strong>
                                        </li>
                                        <!-- <li><i class="ico-union-pay"></i> <strong>Union Pay</strong></li> -->
                                    </ul>
                                </div>
                            </li>
                            <li class="box02">
                                <div class="title-box">
                                    <h3 class="title-type">충전계좌 입금</h3>
                                    <p>
                                        휴대폰 번호 별로 지정된 전용(가상)계좌로
                                        입금하시면 바로 충전됩니다.
                                    </p>
                                </div>
                                <h4 class="sub-title">계좌확인방법</h4>
                                <div class="flex-box">
                                    <ul>
                                        <li>
                                            <i class="ico-mail"></i>

                                            <p>
                                                <strong
                                                    >080-730-0114<i
                                                        class="ico-call6"
                                                    ></i></strong
                                                ><strong>문자 확인</strong>
                                            </p>
                                        </li>
                                        <li>
                                            <i class="ico-pc"></i>

                                            <p>
                                                <strong>마이페이지</strong>
                                                <!-- <a href="javascript:void(0)" class="underline" onclick="goCheckPhone(2);return false;">-->
                                                <a
                                                    href="javascript:void(0);"
                                                    class="underline"
                                                    onclick="goVirAccPage();"
                                                    >가상계좌충전확인</a
                                                >
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="banner-app">
                                    <p>
                                        프리티 APP으로 편리하게
                                        <br class="mobile-only" />
                                        서비스를 이용해 보세요.
                                    </p>
                                    <ul>
                                        <li>
                                            <div class="qr-box">
                                                <img
                                                    src="https://www.freet.co.kr/assets/images/@temp/qr-googleplay.png"
                                                    alt=""
                                                />
                                            </div>
                                            <a
                                                onclick="moveUrl('https://play.google.com/store/apps/details?id=freet.com.com.freetmobileapp&amp;hl=ko&amp;gl=US', 'Y')"
                                            >
                                                <i class="ico-googleplay"></i
                                            ></a>
                                        </li>
                                        <li>
                                            <div class="qr-box">
                                                <img
                                                    src="https://www.freet.co.kr/assets/images/@temp/qr-appstore.png"
                                                    alt=""
                                                />
                                            </div>
                                            <a
                                                onclick="moveUrl('https://apps.apple.com/kr/app/%ED%94%84%EB%A6%AC%ED%85%94%EB%A0%88%EC%BD%A4-freet-%EB%AA%A8%EB%B0%94%EC%9D%BC-%EA%B3%A0%EA%B0%9D%EC%84%BC%ED%84%B0/id1520123515', 'Y')"
                                            >
                                                <i class="ico-appstore"></i
                                            ></a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="box03">
                                <div class="title-box">
                                    <h3 class="title-type">자동 충전 설정</h3>
                                    <p>
                                        자동이체 신청한 계좌 또는 신용카드에서
                                        자동출금(결제) 후 즉시 충전됩니다.
                                    </p>
                                    <a
                                        href="javascript:void(0)"
                                        class="btn-type10"
                                        onclick="preAutoChargePage();return false;"
                                        >자동충전 신청/해제하기</a
                                    >
                                </div>
                                <h4 class="sub-title">신청방법</h4>
                                <div class="flex-box">
                                    <ul>
                                        <li>
                                            <i class="ico-phone-call"></i>
                                            <strong
                                                >모바일앱, 홈페이지를 통해
                                                신청/해제</strong
                                            >
                                        </li>
                                        <li>
                                            <i class="ico-quick05"></i>
                                            <strong
                                                >가입매장 및 고객센터(폰114)로
                                                신청</strong
                                            >
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="box04">
                                <div class="title-box">
                                    <h3 class="title-type">편의점 충전</h3>
                                    <p>
                                        가까운 편의점에 방문하여 매장 점원에게
                                        충전방법을 보여주세요.
                                    </p>
                                    <a
                                        href="javascript:void(0)"
                                        class="btn-type10"
                                        onclick="goCheckPhone(4);return false;"
                                        >편의점 충전방법 확인</a
                                    >
                                </div>
                                <div class="flex-box">
                                    <ul>
                                        <li>
                                            <i class="ico-gs-25"></i>
                                            <strong>GS25</strong>
                                        </li>
                                        <li>
                                            <i class="ico-cu"></i>
                                            <strong>CU</strong>
                                        </li>
                                        <li>
                                            <i class="ico-seven-eleven"></i>
                                            <strong>세븐일레븐</strong>
                                        </li>
                                        <li>
                                            <i class="ico-ministop"></i>
                                            <strong>미니스탑</strong>
                                        </li>
                                        <li>
                                            <i class="ico-cspace"></i>
                                            <strong>CSPACE</strong>
                                        </li>
                                        <!-- 2023-05-12 추가 -->
                                        <li>
                                            <i class="ico-emart-24"></i
                                            ><strong>이마트24</strong>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="box05">
                                <div class="title-box">
                                    <h3 class="title-type">선불카드</h3>
                                    <p>
                                        가입매장(선불카드 판매점)에서 구매하신
                                        카드번호로 충전할 수 있습니다.
                                    </p>
                                    <a
                                        href="javascript:void(0)"
                                        class="btn-type10"
                                        onclick="goCheckPhone(5);return false;"
                                        >선불카드 충전</a
                                    >
                                </div>
                                <h4 class="sub-title">선불카드 충전방법</h4>
                                <div class="flex-box">
                                    <ul>
                                        <li>
                                            <i class="ico-pc"></i>

                                            <p>
                                                <strong>마이페이지</strong>
                                                <strong>선불요금충전</strong>
                                                <!-- <a href="javascript:void(0)" class="underline" onclick="goCheckPhone(5);return false;"> -->
                                                <strong>선불카드 충전</strong>
                                            </p>
                                        </li>

                                        <li>
                                            <i class="ico-data-call"></i>

                                            <p>
                                                <strong
                                                    >폰에서 080-720-0114<i
                                                        class="ico-call6"
                                                    ></i></strong
                                                ><strong>카드번호 입력</strong>
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="box06">
                                <div class="title-box">
                                    <h3 class="title-type">ARS</h3>
                                </div>
                                <div class="flex-box">
                                    <ul>
                                        <li>
                                            <i class="ico-data-call"></i>
                                            <p>
                                                <strong
                                                    >폰에서 114<i
                                                        class="ico-call6"
                                                    ></i
                                                ></strong>
                                                <span
                                                    >(신용카드 결제 가능)</span
                                                >
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </section>
                </section>
                <!-- [E] 선불서비스 -->
            </div>

            <div class="pop-layer pop-prepaid" id="pop-prepaid">
                <div class="dim"></div>
                <div class="pop-wrap v2">
                    <div class="pop-close-wrap">
                        <button
                            class="pop-close"
                            onclick="javascript:UI.layerPopUp({selId:'#pop-prepaid', st: 'close'});"
                        >
                            팝업닫기
                        </button>
                    </div>
                    <div class="pop-content">
                        <h3 class="title-small t-l">
                            충전하실 휴대폰 번호를 확인해주세요.
                        </h3>
                        <div class="form-item ntit">
                            <input
                                value=""
                                class="input-delete"
                                type="number"
                                placeholder="휴대폰번호를 입력해주세요."
                                id="telNo"
                            />
                        </div>
                        <div class="btn-wrap">
                            <a
                                href="javascript:void(0)"
                                class="btn-type"
                                id="btnGoCheck"
                                >확인</a
                            >
                        </div>
                    </div>
                </div>
            </div>

            <script type="text/javascript">
                $(document).ready(function () {});

                //휴대폰 번호 확인
                function goCheckPhone(menuNo) {
                    UI.layerPopUp({ selId: "#pop-prepaid" });
                    $(document).on("click", "#btnGoCheck", function (e) {
                        e.preventDefault();

                        const param = {
                            telNo: $("#telNo").val(),
                        };

                        ftCallAjaxGet(
                            API_DOMAIN + "/charge/v1/phone-check",
                            param,
                            (res) => {
                                console.log(res);
                                if (res.data.success) {
                                    if (menuNo == 1) {
                                        // 온라인 충전하기
                                        console.log(menuNo);
                                        location.href =
                                            "/charge/fee/online/amt";
                                    }
                                    if (menuNo == 2) {
                                        // 가상계좌충전확인
                                        console.log(menuNo);
                                        location.href =
                                            "/charge/fee/virAccInfo";
                                    }
                                    if (menuNo == 3) {
                                        // 자동충전 신청/해제하기
                                        console.log(menuNo);
                                        location.href = "/charge/fee/autoInfo";
                                    }
                                    if (menuNo == 4) {
                                        // 편의점 충전방법 확인
                                        console.log(menuNo);
                                        location.href =
                                            "/charge/fee/cvnStore/type";
                                    }
                                    if (menuNo == 5) {
                                        // 선불카드 충전
                                        console.log(menuNo);
                                        location.href = "/charge/fee/pinNum";
                                    }
                                }
                            }
                        );
                    });
                }

                //자동충전 계좌 페이지 이동 전 상태 체크
                const preAutoChargePage = function () {
                    //해당 유저 상태 체크
                    ftCallAjaxGet(
                        API_DOMAIN + "/charge/v1/userInfo",
                        null,
                        (res) => {
                            const data = res.data;
                            //대표회선이 선불 일때만 다음 step
                            if (data.svcType == "PP") {
                                goAutoChargePage(data.telNo);
                            } else {
                                ftAlert(
                                    "대표회선이 후불요금제를 이용 중이여서 자동충전 신청이 불가능합니다. ",
                                    () => {
                                        location.href =
                                            "/mypage/info/multi_line";
                                    }
                                );
                            }
                        },
                        (err) => {
                            ftAlert("로그인 후 이용 가능합니다.", () => {
                                location.href = "/login";
                            });
                        },
                        false,
                        false
                    );
                };

                //자동 충전 페이지 이동
                const goAutoChargePage = function (telNo) {
                    const param = {
                        telNo: telNo,
                    };
                    //휴대폰 검증 후 세션 저장
                    ftCallAjaxGet(
                        API_DOMAIN + "/charge/v1/phone-check",
                        param,
                        (res) => {
                            if (res.data?.success) {
                                //세션 저장된 객체를 기반으로 페이지 이동
                                ftCallAjaxGet(
                                    API_DOMAIN + "/charge/v1/user-phone",
                                    null,
                                    (res) => {
                                        const data = res.data;
                                        const type =
                                            data?.autoPayYn == "Y" ? "E" : "R";
                                        location.href =
                                            "/charge/fee/cert?type=" + type;
                                    },
                                    null,
                                    true,
                                    true
                                );
                            }
                        },
                        null,
                        true,
                        true
                    );
                };

                //가상계좌 충전 확인
                const goVirAccPage = function () {
                    //비로그인
                    if (isEmpty(MEM_AUTH) || "N" == MEM_AUTH) {
                        location.href =
                            "/login?redirectUrl=/prepaidPhone/chargeInfo/list";
                    } else if (MEM_LINE.substr(-1) == "D") {
                        ftAlert(
                            "대표회선이 후불요금제를 이용 중이여서 가상계좌충전확인이 불가능합니다."
                        );
                    } else {
                        location.href = "/charge/fee/virAccInfo";
                    }
                };
            </script>
        </div>
    </body>
</html>
