<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="mainbanner.css" />
        <title>Document</title>
    </head>
    <body>
        <section class="banner-container">
            <div class="arrows left">&lt;</div>
            <div class="banner">
                <div class="banner-inner">
                    <a href="" class="inner1">
                        <i class="ico-main-search"></i>
                        <p class="title">요금제 찾기1</p>
                        <p class="desc">
                            나에게 딱 맞는
                            <br />
                            <span class="notranslate">프리티</span>
                            요금제 찾기
                        </p>
                        <span class="btn-type3">
                            바로가기
                            <i class="ico-arrow14"></i>
                        </span>
                    </a>
                </div>
                <div class="banner-inner">
                    <a href="" class="inner2">
                        <i class="ico-main-search"></i>
                        <p class="title">요금제 찾기2</p>
                        <p class="desc">
                            나에게 딱 맞는
                            <br />
                            <span class="notranslate">프리티</span>
                            요금제 찾기
                        </p>
                        <span class="btn-type3">
                            바로가기
                            <i class="ico-arrow14"></i>
                        </span>
                    </a>
                </div>
                <div class="banner-inner">
                    <a href="" class="inner3">
                        <i class="ico-main-search"></i>
                        <p class="title">요금제 찾기3</p>
                        <p class="desc">
                            나에게 딱 맞는
                            <br />
                            <span class="notranslate">프리티</span>
                            요금제 찾기
                        </p>
                        <span class="btn-type3">
                            바로가기
                            <i class="ico-arrow14"></i>
                        </span>
                    </a>
                </div>
                <div class="banner-inner">
                    <a href="" class="inner4">
                        <i class="ico-main-search"></i>
                        <p class="title">요금제 찾기4</p>
                        <p class="desc">
                            나에게 딱 맞는
                            <br />
                            <span class="notranslate">프리티</span>
                            요금제 찾기
                        </p>
                        <span class="btn-type3">
                            바로가기
                            <i class="ico-arrow14"></i>
                        </span>
                    </a>
                </div>
                <div class="banner-inner">
                    <a href="" class="inner5">
                        <i class="ico-main-search"></i>
                        <p class="title">요금제 찾기5</p>
                        <p class="desc">
                            나에게 딱 맞는
                            <br />
                            <span class="notranslate">프리티</span>
                            요금제 찾기
                        </p>
                        <span class="btn-type3">
                            바로가기
                            <i class="ico-arrow14"></i>
                        </span>
                    </a>
                </div>
                <div class="banner-inner">
                    <a href="" class="inner6">
                        <i class="ico-main-search"></i>
                        <p class="title">요금제 찾기6</p>
                        <p class="desc">
                            나에게 딱 맞는
                            <br />
                            <span class="notranslate">프리티</span>
                            요금제 찾기
                        </p>
                        <span class="btn-type3">
                            바로가기
                            <i class="ico-arrow14"></i>
                        </span>
                    </a>
                </div>
            </div>
            <div class="arrows right">&gt;</div>
            <div class="buttons">
                <button></button>
                <button></button>
                <button></button>
                <button></button>
                <button></button>
                <button></button>
            </div>
        </section>
    </body>
    <script>
        const arrows = document.querySelectorAll("div.arrows");
        const firstBanner = document.createElement("div.banner-inner");
        const lastBanner = document.createElement("div.banner-inner");
        const banner = document.querySelector("div.banner");
        const buttons = document.querySelectorAll("div.buttons button");

        let tempButton = buttons[0];
        let autoSlideInterval = null;
        let count = 1;
        let arrowCheck = true;
        let buttonCheck = true;

        tempButton.style.backgroundColor = "black";

        firstBanner.innerHTML = document.querySelector(".inner1");
        banner.appendChild(firstBanner);

        lastBanner.innerHTML = document.querySelector(".inner6");
        banner.prepend(lastBanner);

        banner.style.transform = `translate(-520px)`;

        const autoSlide = () => {
            count++;
            banner.style.transition = `transform 0.5s`;
            banner.style.transform = `translate(-${520 * count}px)`;
            if (count == 7) {
                setTimeout(() => {
                    banner.style.transition = `transform 0s`;
                    banner.style.transform = `translate(-520px)`;
                }, 500);
                count = 1;
            }

            tempButton.style.backgroundColor = "white";
            buttons[count - 1].style.backgroundColor = "black";
            tempButton = buttons[count - 1];
        };

        autoSlideInterval = setInterval(autoSlide, 1000);

        arrows.forEach((arrow) => {
            arrow.addEventListener("click", (e) => {
                if (!arrowCheck) {
                    return;
                }
                arrowCheck = false;
                clearInterval(autoSlideInterval);

                let arrowType = e.target.classList[1];

                if (arrowType === "left") {
                    count--;
                    banner.style.transition = `transform 0.5s`;
                    banner.style.transform = `translate(-${520 * count}px)`;

                    if (count == 0) {
                        setTimeout(() => {
                            banner.style.transition = `transform 0s`;
                            banner.style.transform = `translate(-3120px)`;
                        }, 500);

                        count = 6;
                    }
                } else {
                    count++;

                    banner.style.transition = `transform 0.5s`;
                    banner.style.transform = `translate(-${520 * count}px)`;

                    if (count == 7) {
                        setTimeout(() => {
                            banner.style.transition = `transform 0s`;
                            banner.style.transform = `translate(-520px)`;
                        }, 500);

                        count = 1;
                    }
                }

                tempButton.style.backgroundColor = "white";
                buttons[count - 1].style.backgroundColor = "black";
                tempButton = buttons[count - 1];

                autoSlideInterval = setInterval(autoSlide, 1000);

                setTimeout(() => {
                    arrowCheck = true;
                }, 500);
            });
        });

        buttons.forEach((button, i) => {
            button.addEventListener("click", (e) => {
                if (!buttonCheck) {
                    return;
                }
                clearInterval(autoSlideInterval);

                tempButton.style.backgroundColor = "white";
                count = i + 1;

                banner.style.transition = `transform 0.5s`;
                banner.style.transform = `translate(-${520 * count}px)`;

                buttons[i].style.backgroundColor = "black";
                tempButton = buttons[i];

                autoSlideInterval = setInterval(autoSlide, 1000);
                setTimeout(() => {
                    buttonCheck = true;
                }, 500);
            });
        });
    </script>
</html>
